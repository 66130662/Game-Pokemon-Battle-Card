{"ast":null,"code":"var _jsxFileName = \"/Users/arruklibnoy/reac_poke/game-pokemonbattle-ex/pokemon_battle_front/src/components/Login.tsx\",\n  _s = $RefreshSig$();\n// import statements should be at the top of the file\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\"; // นำเข้า useNavigate\nimport backgroundImage from \"../assets/images/P_13.jpg\"; // นำเข้าภาพพื้นหลัง\nimport loadingSound from \"../assets/sounds/loadingSound.mp3\"; // เสียงพื้นหลัง\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = ({\n  onLogin,\n  setUserId\n}) => {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  // const [user_id, setUser_Id] = useState<string>(\"\");\n  const navigate = useNavigate(); // สร้างอินสแตนซ์ของ navigate\n\n  const handleLogin = async () => {\n    if (username && password) {\n      try {\n        const response = await fetch(\"http://13.228.191.168:3001/api/user_id\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            user_name: username,\n            pass: password\n          })\n        });\n        const data = await response.json();\n        if (data.success) {\n          alert(\"Login successful!\");\n          setUserId(data.user_id); // เก็บ user_id ที่ได้จาก backend\n          onLogin(data.user_id);\n          navigate(\"/game\");\n        } else {\n          alert(data.message);\n        }\n      } catch (error) {\n        console.error(\"Error logging in:\", error);\n        alert(\"An error occurred during login. Please try again.\");\n      }\n    } else {\n      alert(\"Please enter both username and password\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"100vh\",\n      backgroundImage: `url(${backgroundImage})`,\n      backgroundSize: \"cover\",\n      backgroundPosition: \"center\",\n      color: \"white\",\n      textAlign: \"center\",\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n      autoPlay: true,\n      loop: true,\n      children: [/*#__PURE__*/_jsxDEV(\"source\", {\n        src: loadingSound,\n        type: \"audio/mpeg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), \"Your browser does not support the audio element.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        fontSize: \"6rem\",\n        marginBottom: \"20px\"\n      },\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter username...\",\n      value: username,\n      onChange: e => setUsername(e.target.value),\n      style: {\n        fontSize: \"1.5rem\",\n        padding: \"15px\",\n        margin: \"10px 0\",\n        borderRadius: \"5px\",\n        border: \"2px solid #ccc\",\n        width: \"300px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"Enter password...\",\n      value: password,\n      onChange: e => setPassword(e.target.value),\n      style: {\n        fontSize: \"1.5rem\",\n        padding: \"15px\",\n        margin: \"10px 0\",\n        borderRadius: \"5px\",\n        border: \"2px solid #ccc\",\n        width: \"300px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogin,\n      style: {\n        fontSize: \"1.5rem\",\n        padding: \"10px 20px\",\n        borderRadius: \"5px\",\n        border: \"none\",\n        backgroundColor: \"#4CAF50\",\n        // สีเขียว\n        color: \"white\",\n        cursor: \"pointer\",\n        marginTop: \"20px\"\n      },\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(\"/register\"),\n      style: {\n        fontSize: \"1.2rem\",\n        padding: \"10px 20px\",\n        borderRadius: \"5px\",\n        border: \"none\",\n        backgroundColor: \"#007BFF\",\n        color: \"white\",\n        cursor: \"pointer\",\n        marginTop: \"20px\"\n      },\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n// export statement should be at the bottom of the file\n_s(Login, \"JBV44+s3MGwvm5P+UO1Bab3M9dc=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","backgroundImage","loadingSound","jsxDEV","_jsxDEV","Login","onLogin","setUserId","_s","username","setUsername","password","setPassword","navigate","handleLogin","response","fetch","method","headers","body","JSON","stringify","user_name","pass","data","json","success","alert","user_id","message","error","console","style","display","flexDirection","justifyContent","alignItems","height","backgroundSize","backgroundPosition","color","textAlign","padding","children","autoPlay","loop","src","type","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","marginBottom","placeholder","value","onChange","e","target","margin","borderRadius","border","width","onClick","backgroundColor","cursor","marginTop","_c","$RefreshReg$"],"sources":["/Users/arruklibnoy/reac_poke/game-pokemonbattle-ex/pokemon_battle_front/src/components/Login.tsx"],"sourcesContent":["// import statements should be at the top of the file\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\"; // นำเข้า useNavigate\nimport backgroundImage from \"../assets/images/P_13.jpg\"; // นำเข้าภาพพื้นหลัง\nimport loadingSound from \"../assets/sounds/loadingSound.mp3\"; // เสียงพื้นหลัง\n\ninterface LoginProps {\n  onLogin: (user: string | null) => void;\n  setUserId: React.Dispatch<React.SetStateAction<number | null>>; // เพิ่ม setUserId\n}\n\nconst Login: React.FC<LoginProps> = ({ onLogin, setUserId }) => {\n  const [username, setUsername] = useState<string>(\"\");\n  const [password, setPassword] = useState<string>(\"\");\n  // const [user_id, setUser_Id] = useState<string>(\"\");\n  const navigate = useNavigate(); // สร้างอินสแตนซ์ของ navigate\n\n  const handleLogin = async () => {\n    if (username && password) {\n      try {\n        const response = await fetch(\"http://13.228.191.168:3001/api/user_id\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            user_name: username,\n            pass: password,\n          }),\n        });\n\n        const data = await response.json();\n\n        if (data.success) {\n          alert(\"Login successful!\");\n          setUserId(data.user_id); // เก็บ user_id ที่ได้จาก backend\n          onLogin(data.user_id);\n          navigate(\"/game\");\n        } else {\n          alert(data.message);\n        }\n      } catch (error) {\n        console.error(\"Error logging in:\", error);\n        alert(\"An error occurred during login. Please try again.\");\n      }\n    } else {\n      alert(\"Please enter both username and password\");\n    }\n  };\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"100vh\",\n        backgroundImage: `url(${backgroundImage})`,\n        backgroundSize: \"cover\",\n        backgroundPosition: \"center\",\n        color: \"white\",\n        textAlign: \"center\",\n        padding: \"20px\",\n      }}\n    >\n      <audio autoPlay loop>\n        <source src={loadingSound} type=\"audio/mpeg\" />\n        Your browser does not support the audio element.\n      </audio>\n\n      <h1 style={{ fontSize: \"6rem\", marginBottom: \"20px\" }}>Login</h1>\n      <input\n        type=\"text\"\n        placeholder=\"Enter username...\"\n        value={username}\n        onChange={(e) => setUsername(e.target.value)}\n        style={{\n          fontSize: \"1.5rem\",\n          padding: \"15px\",\n          margin: \"10px 0\",\n          borderRadius: \"5px\",\n          border: \"2px solid #ccc\",\n          width: \"300px\",\n        }}\n      />\n      <input\n        type=\"password\"\n        placeholder=\"Enter password...\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n        style={{\n          fontSize: \"1.5rem\",\n          padding: \"15px\",\n          margin: \"10px 0\",\n          borderRadius: \"5px\",\n          border: \"2px solid #ccc\",\n          width: \"300px\",\n        }}\n      />\n      <button\n        onClick={handleLogin}\n        style={{\n          fontSize: \"1.5rem\",\n          padding: \"10px 20px\",\n          borderRadius: \"5px\",\n          border: \"none\",\n          backgroundColor: \"#4CAF50\", // สีเขียว\n          color: \"white\",\n          cursor: \"pointer\",\n          marginTop: \"20px\",\n        }}\n      >\n        Login\n      </button>\n      <button\n        onClick={() => navigate(\"/register\")}\n        style={{\n          fontSize: \"1.2rem\",\n          padding: \"10px 20px\",\n          borderRadius: \"5px\",\n          border: \"none\",\n          backgroundColor: \"#007BFF\",\n          color: \"white\",\n          cursor: \"pointer\",\n          marginTop: \"20px\",\n        }}\n      >\n        Register\n      </button>\n    </div>\n  );\n};\n\n// export statement should be at the bottom of the file\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}